(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/problems/index"],{80:function(e,n,t){"use strict";(function(e){t(5);i(t(4));var n=i(t(81));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},81:function(e,n,t){"use strict";t.r(n);var i=t(82),r=t(84);for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);t(89),t(91);var s,u=t(14),l=Object(u["default"])(r["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],s);l.options.__file="pages/problems/index.vue",n["default"]=l.exports},82:function(e,n,t){"use strict";t.r(n);var i=t(83);t.d(n,"render",(function(){return i["render"]})),t.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),t.d(n,"components",(function(){return i["components"]}))},83:function(e,n,t){"use strict";var i;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return s})),t.d(n,"recyclableRender",(function(){return o})),t.d(n,"components",(function(){return i}));try{i={uniEasyinput:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-easyinput/uni-easyinput").then(t.bind(null,230))},uniPopup:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup").then(t.bind(null,216))},uniPopupDialog:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/@dcloudio/uni-ui/lib/uni-popup-dialog/uni-popup-dialog")]).then(t.bind(null,237))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.isLoading?e._f("problemType")(e.problemAllList[e.isProblemNum]):null),i=e.isLoading?[1,2,4].includes(e.problemAllList[e.isProblemNum].type):null,r=e.isLoading?e.__map(e.problemAllList[e.isProblemNum].ans,(function(n,t){var i=e.__get_orig(n),r=e.currentStyle(n);return{$orig:i,m0:r}})):null,o=e.isLoading?[3].includes(e.problemAllList[e.isProblemNum].type):null,s=e.isLoading?e._f("rightKeyFilter")(e.problemAllList[e.isProblemNum]):null;e.$mp.data=Object.assign({},{$root:{f0:t,g0:i,l0:r,g1:o,f1:s}})},o=!1,s=[];r._withStripped=!0},84:function(e,n,t){"use strict";t.r(n);var i=t(85),r=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=r.a},85:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t(86)),r=t(61);t(11);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,n,t,i,r,o,s){try{var u=e[o](s),l=u.value}catch(a){return void t(a)}u.done?n(l):Promise.resolve(l).then(i,r)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function u(e){s(o,i,r,u,l,"next",e)}function l(e){s(o,i,r,u,l,"throw",e)}u(void 0)}))}}var l=function(){t.e("components/NavBar").then(function(){return resolve(t(223))}.bind(null,t)).catch(t.oe)},a={data:function(){return{isrequest:!0,chapter_id:"",msgType:"success",errorMessage:!1,isStopButton:!1,blanksValue:"",isLoading:!1,isProblem:!0,isProblemNum:0,problemAllList:[]}},components:{NavBar:l},onLoad:function(e){console.log(e,"答题的请求参数");var n=e.id;this.chapter_id=n,this.getProblemList(n)},computed:{isBlanks:function(){return!0},currentYes:function(){var e=this.problemAllList[this.isProblemNum];return!!(null===e||void 0===e?void 0:e.answer_value)&&(2!=e.type?e["answer_value"]!=e["right_key"]:!e["right_key"].includes(e["answer_value"]))},currentProblem:function(){return this.problemAllList.filter((function(e){return e.right_key==e.answer_value})).length}},filters:{problemType:function(e){var n={1:"单选题",2:"多选题",3:"填空题",4:"判断题"},t=null===e||void 0===e?void 0:e.type;return console.log(e),n[t]},rightKeyFilter:function(e){var n=e.right_key,t=e.type;return 4==t?1==n?"正确":"错误":n}},onUnload:function(){if(this.isrequest){var n=this.problemAllList.filter((function(e){return e.answer_value&&e.right_key!=e.answer_value})).map((function(e){return e.id})),t=this.problemAllList.filter((function(e){return e.right_key==e.answer_value})).map((function(e){return e.id})),i={chapter_id:this.chapter_id,error_ids:n,right_ids:t};(0,r.subTrainResult)(i).then((function(n){e.showToast({mask:!0,title:"提交成功",icon:"none"})}))}},onHide:function(){console.log("onHideonHideonHideonHideonHideonHide")},methods:{dialogConfirm:function(){var n=this,t=this.problemAllList.filter((function(e){return e.answer_value&&e.right_key!=e.answer_value})).map((function(e){return e.id})),i=this.problemAllList.filter((function(e){return e.right_key==e.answer_value})).map((function(e){return e.id})),o={chapter_id:this.chapter_id,error_ids:t,right_ids:i};(0,r.subTrainResult)(o).then((function(t){e.showToast({mask:!0,title:"提交成功",icon:"none"}),n.isrequest=!1,setTimeout((function(){e.navigateBack()}),1500)}))},onBlanksok:function(){if(!this.blanksValue)return this.errorMessage=!0,void e.showToast({title:"请输入答案",icon:"none"});this.problemAllList[this.isProblemNum].answer_value=this.blanksValue,this.blanksValue==this.problemAllList[this.isProblemNum].right_key?this.isProblemNum<=this.problemAllList.length-2?(this.isProblemNum+=1,this.isStopButton=!1,this.blanksValue=""):e.showToast({title:"暂无更多",icon:"none",mask:!0}):(this.disabled=!0,this.errorMessage=!0)},onNextProblem:function(){if(this.isProblemNum<=this.problemAllList.length-2){this.isProblemNum+=1,this.isStopButton=!1;var e=this.problemAllList[this.isProblemNum];console.log(this.blanksValue,e,1814),this.errorMessage=!1,this.blanksValue=e["answer_value"]||""}else this.$refs.alertDialog.open()},currentStyle:function(e){var n=this.problemAllList[this.isProblemNum];if(n["answer_value"]){if(1==n["type"]||4==n["type"]){if(n["answer_value"]==n["right_key"]){if(n["answer_value"].includes(e.number))return" yse-problem"}else if(n["answer_value"].includes(e.number))return" no-problem shake";this.isStopButton=!0}if(2==n["type"])if(console.log(n.right_key,n["answer_value"],"多选是否禁止点击’"),n["right_key"].includes(e.number)){if(n["answer_value"]==n["right_key"]&&(this.isStopButton=!0),n["answer_value"].includes(e.number))return" yse-problem"}else if(n["answer_value"].includes(e.number))return this.isStopButton=!0," no-problem shake"}},onAnswer:function(e){var n=this.problemAllList[this.isProblemNum],t=n["answer_value"];if(console.log(e,e.type,t,"选的项"),!this.isStopButton){if(t){t=t.split(",");var i=t.includes(e.number);i?t=t.filter((function(n){return n!=e.number})):t.push(e.number)}else t=[],t.push(e.number);t=t.sort(),t=t.join(""),console.log(t,"结果"),this.problemAllList[this.isProblemNum]["answer_value"]=t,n.answer_value==n.right_key&&this.onNextProblem()}},onProblemNumber:function(e,n){this.isProblemNum=n,this.isProblem=!0,this.isStopButton=!1;var t=this.problemAllList[this.isProblemNum];3==(null===t||void 0===t?void 0:t.type)&&(this.blanksValue=t["answer_value"])},onStar:function(){this.isProblem=!0},onCard:function(){this.isProblem=!1},getProblemList:function(n){var t=this;return u(i.default.mark((function o(){var s;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.showLoading({title:"加载中",mask:!0}),t.isLoading=!1,i.next=4,(0,r.getProblemList)({chapter_id:n});case 4:s=i.sent,t.problemAllList=s.map((function(e){return e["answer_value"]="",e})),t.isLoading=!0,e.hideLoading();case 8:case"end":return i.stop()}}),o)})))()}}};n.default=a}).call(this,t(1)["default"])},89:function(e,n,t){"use strict";t.r(n);var i=t(90),r=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=r.a},90:function(e,n,t){},91:function(e,n,t){"use strict";t.r(n);var i=t(92),r=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=r.a},92:function(e,n,t){}},[[80,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/problems/index.js.map